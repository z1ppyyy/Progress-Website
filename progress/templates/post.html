{% extends 'base.html' %}

{% block title %}
  Post Creation
{% endblock %}

{% block body %}

  <h1 id="form-title">Enter your progress</h1>

  {% if error %}
    <h3 class="error-message">{{error}}</h3>
  {% endif %}

  {% if post %}
    <form method="post" action="{% url 'edit' post.id %}">
      {% csrf_token %}
      <p>Enter your today's progress</p>
      <textarea type="text" maxlength="900" name="progress" rows="20" cols="50" placeholder="Enter your progress here">{{ post.progress }}</textarea>
      <p>How much time did you spent?</p>
      <label for="hours">Hours</label>
      <input type="number" maxlength="2" name="hours" placeholder="e.g. 4" value="{{ post.hours }}"  />
      <label for="minutes">Minutes</label>
      <input type="number" maxlength="2" name="minutes" placeholder="e.g. 30" value="{{ post.minutes }}" />
      <button class="btn full-width" type="submit">Submit</button>
      <a href="/"><input type="button" value="Go back"/></a>
    </form>
  {% else %}
    <form method="post" action="progress">
      {% csrf_token %}
      <p>Enter your today's progress</p>
      <textarea type="text" maxlength="900" name="progress" rows="20" cols="50" placeholder="Enter your progress here"></textarea>
      <p>How much time did you spent?</p>
      <label for="hours">Hours</label>
      <input type="number" maxlength="2" name="hours" placeholder="e.g. 4"  />
      <label for="minutes">Minutes</label>
      <input type="number" maxlength="2" name="minutes" value="0" placeholder="e.g. 30"  />
      <button class="btn full-width" type="submit">Submit</button>
      <a href="/"><input type="button" value="Go back"/></a>
    </form>
  {% endif %}
</body>
</html>
{% endblock %}
